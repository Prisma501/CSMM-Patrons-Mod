{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/SdtdMap.vue?0dec","webpack:///./src/App.vue?da13","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/components/SideBar.vue?936d","webpack:///src/components/SideBar.vue","webpack:///./src/components/SideBar.vue?b259","webpack:///./src/components/SideBar.vue","webpack:///./src/components/SdtdMap.vue?fcc5","webpack:///src/components/SdtdMap.vue","webpack:///./src/components/SdtdMap.vue?83c5","webpack:///./src/components/SdtdMap.vue?dc99","webpack:///./src/components/ClaimsModal.vue?a601","webpack:///src/components/ClaimsModal.vue","webpack:///./src/components/ClaimsModal.vue?1059","webpack:///./src/components/ClaimsModal.vue","webpack:///./src/components/ClaimCreator.vue?5e24","webpack:///src/components/ClaimCreator.vue","webpack:///./src/components/ClaimCreator.vue?9cb3","webpack:///./src/components/ClaimCreator.vue","webpack:///./src/components/CommandsModal.vue?0dd6","webpack:///src/components/CommandsModal.vue","webpack:///./src/components/CommandsModal.vue?2c76","webpack:///./src/components/CommandsModal.vue?3670","webpack:///./src/components/SessionHandler.vue?12d0","webpack:///src/components/SessionHandler.vue","webpack:///./src/components/SessionHandler.vue?edf1","webpack:///./src/components/SessionHandler.vue?75eb","webpack:///./src/main.js","webpack:///./src/components/SessionHandler.vue?928a","webpack:///./src/components/CommandsModal.vue?5e22"],"names":["i","chunkIds","length","deferredModules","j","deferredModule","enumerable","get","getter","value","key","bind","module","Object","prototype","hasOwnProperty","call","object","property","jsonpArray","webpackJsonpCallback","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","name","data","claimTypes","component","menu","on","onItemClick","slot","methods","item","attributes","modalId","$bvModal","show","getUserStatus","fetch","commands","userStatus","loggedin","username","permissionlevel","permissions","_v","_s","mapMessage","staticClass","selectionMode","areaSelect","regionSelect","clearSelection","iconUrl","iconRetinaUrl","iconSize","iconAnchor","popupAnchor","map","tileLayer","layers","mapInfo","regionsize","chunksize","tilesize","maxzoom","clickMarkers","selectedRegionsRecs","selectedRegions","selectedArea","window","connectionInfo","ip","port","adminUser","adminToken","colors","colorIterator","computed","cpmPort","parseInt","activeColor","hasPermission","permission","allowed","getLandClaims","getPois","getTraders","getPlayers","getQuestPoi","link","getHomes","e","remove","eventBus","$emit","handleRegionClick","handleAreaClick","createMap","initMap","initLayers","weight","latLngSelected","W","region","lat","E","N","lng","S","Name","regionName","Type","regionRec","addTo","GetSdtdTileLayer","maxZoom","mapinfo","minZoom","Math","max","maxNativeZoom","minNativeZoom","tileSize","getTileUrl","coords","y","project","unproject","projection","SDTD_Projection","transformation","scale","pow","zoom","attributionControl","crs","SDTD_CRS","zoomControl","getClaims","type","createClaimRectangle","popup","rectangle","bindPopup","FormatRegionFileName","latlng","CoordToRegion","x","floor","getRegionLayer","regionLayer","createTile","blockWorldSize","tileLeft","tilePoint","tileBottom","blockPos","canvas","width","height","ctx","getContext","fillStyle","lineWidth","font","strokeStyle","lineCount","pos","beginPath","moveTo","lineTo","stroke","strokeText","fillText","ref","directives","rawName","expression","onDelete","claims","borderless","small","multi","rowSelected","selected","mounted","localStorage","JSON","parse","drawClaims","$on","items","createClaim","_e","area","command","model","callback","$$v","accessLevel","number","options","$set","text","_l","index","yCoordHigh","yCoordLow","enteringText","exitingText","openingHour","closingHour","stepheight","portalX","portalY","portalZ","timeToLive","playerLevelCheck","props","round","commandString","getW","getE","getN","getS","executed","execute","$event","deleteCommand","historyObj","class","success","generateId","formatDate","date","statusText","history","executing","toLocaleString","getHistory","setHistory","newHistory","setItem","stringify","addToHistory","current","unshift","splice","title","_m","require","allocsMap","host","location","hostname","protocol","library","add","faExternalLinkAlt","faTrashAlt","faArrowsAltH","faUser","faCog","faBorderStyle","faTerminal","faQuestionCircle","faAngleRight","Vue","FontAwesomeIcon","SideBar","SdtdMap","ClaimsModal","ClaimCreator","CommandsModal","SessionHandler","use","BootstrapVue","VueSidebarMenu","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.952c4472.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SdtdMap.vue?vue&type=style&index=0&id=27593399&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SdtdMap.vue?vue&type=style&index=0&id=27593399&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('sidebar'),_c('sdtd-map')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <sidebar></sidebar>\n\n    <sdtd-map></sdtd-map>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"app\",\n  data() {\n    return {\n      claimTypes: [\n        \"hostilefree\",\n        \"notify\",\n        \"command\",\n        \"leveled\",\n        \"reversed\",\n        \"normal\",\n        \"timed\",\n        \"portal\",\n        \"openhours\",\n        \"playerlevel\",\n        \"lcbfree\"\n      ]\n    };\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=f740be6a&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',[_c('sidebar-menu',{attrs:{\"menu\":_vm.menu},on:{\"item-click\":_vm.onItemClick}},[_c('span',{attrs:{\"slot\":\"toggle-icon\"},slot:\"toggle-icon\"},[_c('font-awesome-icon',{attrs:{\"icon\":\"arrows-alt-h\",\"size\":\"xl\"}})],1),_c('span',{attrs:{\"slot\":\"dropdown-icon\"},slot:\"dropdown-icon\"},[_c('font-awesome-icon',{attrs:{\"icon\":\"angle-right\",\"size\":\"xs\"}})],1)]),_c('server-settings'),_c('claims'),_c('commands-modal')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <nav>\n    <sidebar-menu :menu=\"menu\" @item-click=\"onItemClick\">\n      <span slot=\"toggle-icon\">\n        <font-awesome-icon icon=\"arrows-alt-h\" size=\"xl\" />\n      </span>\n      <span slot=\"dropdown-icon\">\n        <font-awesome-icon icon=\"angle-right\" size=\"xs\" />\n      </span>\n    </sidebar-menu>\n\n    <server-settings></server-settings>\n    <claims></claims>\n    <commands-modal></commands-modal>\n  </nav>\n</template>\n \n<script>\nimport { eventBus } from \"../main\";\n\nexport default {\n  async mounted() {\n    const userMenuEntry = this.menu.filter(i => i.title == \"User\")[0];\n    const commandsMenuEntry = this.menu.filter(i => i.title == \"Commands\")[0];\n\n    eventBus.$on(\"set-commands\", amount => {\n      commandsMenuEntry.badge.text = amount;\n    });\n\n    this.userStatus = await this.getUserStatus();\n\n    if (this.userStatus.loggedin) {\n      userMenuEntry.child.push({\n        title: this.userStatus.username\n      });\n      userMenuEntry.child.push({\n        href: \"/session/logout\",\n        title: \"Log out\"\n      });\n      for (const permission of this.userStatus.permissions) {\n        if (permission.module !== \"cpmcc.Null\") {\n          userMenuEntry.child.push({\n            title: `${permission.module.replace(\"cpmcc.\", \"\")} - ${\n              permission.allowed ? \"Yes\" : \"No\"\n            }`\n          });\n        }\n      }\n    } else {\n      this.menu = [];\n      this.menu.push({\n        title: \"User\",\n        icon: {\n          element: \"font-awesome-icon\",\n          attributes: { icon: \"user\" }\n        },\n        child: []\n      });\n      const userMenuEntry = this.menu.filter(i => i.title == \"User\")[0];\n      userMenuEntry.title = \"Not logged in\";\n      userMenuEntry.child.push({\n        title: \"Log in via Steam\",\n        href: \"/session/login\"\n      });\n    }\n  },\n  methods: {\n    // Hacky way to get the bootstrap modals to work with the sidebar component\n    onItemClick(event, item) {\n      if (item.attributes) {\n        let modalId = item.attributes[\"v-b-modal\"];\n        if (modalId) {\n          return this.$bvModal.show(modalId);\n        }\n      }\n    },\n    getUserStatus() {\n      return fetch(\"/userstatus\")\n        .then(response => {\n          return response.json();\n        })\n        .then(data => {\n          return data;\n        });\n    }\n  },\n  data() {\n    return {\n      commands: 0,\n      userStatus: {\n        loggedin: false,\n        username: null,\n        permissionlevel: 2000,\n        permissions: []\n      },\n      menu: [\n        {\n          header: true,\n          title: \"CPM Web UI\",\n          hiddenOnCollapse: true\n        },\n        {\n          title: \"Claims\",\n          icon: {\n            element: \"font-awesome-icon\",\n            attributes: { icon: \"border-style\" }\n          },\n          attributes: {\n            \"v-b-modal\": \"claims\"\n          }\n        },\n        {\n          title: \"Commands\",\n          icon: {\n            element: \"font-awesome-icon\",\n            attributes: { icon: \"terminal\" }\n          },\n          attributes: {\n            \"v-b-modal\": \"commands\"\n          },\n          badge: {\n            text: 0,\n            class: \"vsm--badge_default\"\n            // attributes: {}\n            // element: 'span'\n          }\n        },\n        {\n          title: \"User\",\n          icon: {\n            element: \"font-awesome-icon\",\n            attributes: { icon: \"user\" }\n          },\n          child: []\n        },\n        {\n          title: \"Help\",\n          icon: {\n            element: \"font-awesome-icon\",\n            attributes: { icon: \"question-circle\" }\n          },\n          child: [\n            {\n              href: \"https://docs.csmm.app/en/CPM/\",\n              title: \"Documentation\",\n              attributes: {\n                target: \"_blank\"\n              }\n            },\n            {\n              href: \"https://catalysm.net/discord\",\n              title: \"Discord\",\n              attributes: {\n                target: \"_blank\"\n              }\n            }\n          ]\n        }\n      ]\n    };\n  }\n};\n</script> ","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SideBar.vue?vue&type=template&id=1a2b1d1c&\"\nimport script from \"./SideBar.vue?vue&type=script&lang=js&\"\nexport * from \"./SideBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"map-container\"}},[_c('div',{attrs:{\"id\":\"map\"}},[_c('center',[_vm._v(_vm._s(_vm.mapMessage))]),_c('div',{staticClass:\"leaflet-bottom leaflet-right\"},[_c('b-button-group',{attrs:{\"size\":\"sm\",\"id\":\"selection-control\",\"vertical\":\"\"}},[_c('b-button',{attrs:{\"disabled\":_vm.selectionMode === 'area'},on:{\"click\":_vm.areaSelect}},[_vm._v(\"Select area\")]),_c('b-button',{attrs:{\"disabled\":_vm.selectionMode === 'region'},on:{\"click\":_vm.regionSelect}},[_vm._v(\"Select region\")]),_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":_vm.clearSelection}},[_vm._v(\"Clear selection\")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"map-container\">\n    <div id=\"map\">\n      <center>{{ mapMessage }}</center>\n      <div class=\"leaflet-bottom leaflet-right\">\n        <b-button-group size=\"sm\" id=\"selection-control\" vertical>\n          <b-button :disabled=\"selectionMode === 'area'\" @click=\"areaSelect\"\n            >Select area</b-button\n          >\n          <b-button :disabled=\"selectionMode === 'region'\" @click=\"regionSelect\"\n            >Select region</b-button\n          >\n          <b-button @click=\"clearSelection\" variant=\"danger\"\n            >Clear selection</b-button\n          >\n        </b-button-group>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport L from \"leaflet\";\nimport { eventBus } from \"../main\";\nimport { setInterval } from \"timers\";\n\nconst playerIcon = L.icon({\n  iconUrl: \"img/marker-survivor.png\",\n  iconRetinaUrl: \"img/marker-survivor-2x.png\",\n  iconSize: [25, 48],\n  iconAnchor: [12, 24],\n  popupAnchor: [0, -20]\n});\n\nconst homeIcon = L.icon({\n  iconUrl: \"img/home-icon.png\",\n  iconSize: [25, 25],\n  iconAnchor: [12, 24],\n  popupAnchor: [0, -20]\n});\n\nconst traderIcon = L.icon({\n  iconUrl: \"img/shopping-cart.png\",\n  iconSize: [25, 25],\n  iconAnchor: [12, 24],\n  popupAnchor: [0, -20]\n});\n\nexport default {\n  name: \"sdtd-map\",\n  data: function() {\n    return {\n      map: null,\n      tileLayer: null,\n      layers: [],\n      mapMessage: \"Please fill in connection info in the server settings tab.\",\n      mapInfo: {\n        regionsize: 512,\n        chunksize: 16,\n        tilesize: 128,\n        maxzoom: 4\n      },\n      userStatus: {\n        loggedin: false,\n        username: null,\n        permissionlevel: 2000,\n        permissions: []\n      },\n      clickMarkers: [],\n      // Rectangles on the map\n      selectedRegionsRecs: [],\n      // Region names\n      selectedRegions: [],\n      selectedArea: null,\n      claimTypes: window.claimTypes,\n      connectionInfo: {\n        ip: \"\",\n        port: \"\",\n        adminUser: \"\",\n        adminToken: \"\"\n      },\n      selectionMode: \"area\",\n      colors: [\n        \"purple\",\n        \"cyan\",\n        \"red\",\n        \"green\",\n        \"blue\",\n        \"yellow\",\n        \"orange\",\n        \"brown\",\n        \"coral\",\n        \"chocolate\",\n        \"skyblue\"\n      ],\n      // After all claims for a type are finished drawing, this is incremented\n      colorIterator: 0\n    };\n  },\n  computed: {\n    cpmPort: function() {\n      return parseInt(this.connectionInfo.port) + 1;\n    },\n    activeColor: function() {\n      return this.colors[this.colorIterator];\n    }\n  },\n\n  async mounted() {\n    this.userStatus = this.getUserStatus();\n    this.userStatus.then(status => {\n      this.userStatus = status;\n\n      setInterval(() => {\n        this.drawLandClaims();\n        this.drawPlayers();\n        this.drawHomes();\n        this.drawQuestPoi();\n        this.drawTraders();\n        this.drawPois();\n      }, 30000);\n\n      this.createMap();\n\n      eventBus.$on(\"refresh-claims\", () => {\n        if (this.map != null) {\n          this.map.remove();\n          this.map = null;\n          this.createMap();\n        }\n      });\n    });\n  },\n\n  methods: {\n    hasPermission(permModule) {\n      const permission = this.userStatus.permissions.find(\n        p => p.module === permModule\n      );\n      return permission.allowed;\n    },\n    getUserStatus() {\n      return fetch(\"/userstatus\")\n        .then(response => {\n          return response.json();\n        })\n        .then(data => {\n          return data;\n        });\n    },\n    getLandClaims() {\n      return fetch(`/api/getlandclaims`)\n        .then(function(response) {\n          return response.json();\n        })\n        .then(function(data) {\n          return data;\n        });\n    },\n    async drawLandClaims() {\n      if (!this.hasPermission(\"cpmcc.getlandclaims\")) {\n        return;\n      }\n\n      const landClaimData = await this.getLandClaims();\n      const claimRadius = (landClaimData.claimsize - 1) / 2;\n      let lcbLayer = this.layers[\"Land claim blocks\"];\n      if (!lcbLayer) {\n        this.layers[\"Land claim blocks\"] = new L.LayerGroup();\n        lcbLayer = this.layers[\"Land claim blocks\"];\n      }\n\n      lcbLayer.clearLayers();\n      for (const lcbOwner of landClaimData.claimowners) {\n        for (const lcb of lcbOwner.claims) {\n          // Create the LCB marker & area\n          const lcbArea = L.rectangle([\n            [lcb.x - claimRadius, lcb.z - claimRadius],\n            [lcb.x + claimRadius, lcb.z + claimRadius]\n          ]).bindPopup(\n            `${lcbOwner.playername} - ${lcbOwner.steamid} <br> Status: ${\n              lcbOwner.claimactive ? \"Active\" : \"Inactive\"\n            }`\n          );\n          lcbLayer.addLayer(lcbArea);\n        }\n      }\n      return lcbLayer;\n    },\n    getPois() {\n      return fetch(`/api/getallpois`)\n        .then(function(response) {\n          return response.json();\n        })\n        .then(function(data) {\n          return data;\n        });\n    },\n    async drawPois() {\n      if (!this.hasPermission(\"cpmcc.getallpois\")) {\n        return;\n      }\n\n      const { AllPOIs: pois } = await this.getPois();\n      let poisLayer = this.layers[\"POIs\"];\n      if (!poisLayer) {\n        this.layers[\"POIs\"] = new L.LayerGroup();\n        poisLayer = this.layers[\"POIs\"];\n      }\n\n      for (const poi of pois) {\n        const poiRec = this.createClaimRectangle(\n          {\n            W: poi.minx,\n            E: poi.maxx,\n            S: poi.minz,\n            N: poi.maxz\n          },\n          undefined,\n          \"orange\"\n        );\n        poiRec.bindPopup(\n          `${poi.name} - ${poi.containsbed ? \"Contains bed\" : \"Unclaimed\"}`\n        );\n        poisLayer.addLayer(poiRec);\n      }\n    },\n    getTraders() {\n      return fetch(`/api/gettraders`)\n        .then(function(response) {\n          return response.json();\n        })\n        .then(function(data) {\n          return data;\n        });\n    },\n    async drawTraders() {\n      if (!this.hasPermission(\"cpmcc.gettraders\")) {\n        return;\n      }\n\n      const { Traders } = await this.getTraders();\n      let tradersLayer = this.layers[\"Traders\"];\n      if (!tradersLayer) {\n        this.layers[\"Traders\"] = new L.LayerGroup();\n        tradersLayer = this.layers[\"Traders\"];\n      }\n\n      tradersLayer.clearLayers();\n      for (const trader of Traders) {\n        const traderRec = this.createClaimRectangle(\n          {\n            W: trader.minx,\n            E: trader.maxx,\n            S: trader.minz,\n            N: trader.maxz\n          },\n          undefined,\n          \"green\"\n        );\n        const marker = L.marker([trader.x, trader.z], {\n          icon: traderIcon\n        }).bindPopup(trader.name);\n        tradersLayer.addLayer(marker);\n        tradersLayer.addLayer(traderRec);\n      }\n    },\n    getPlayers() {\n      return fetch(`/api/getplayersonline`)\n        .then(function(response) {\n          return response.json();\n        })\n        .then(function(data) {\n          return data;\n        });\n    },\n    async drawPlayers() {\n      if (!this.hasPermission(\"cpmcc.getplayersonline\")) {\n        return;\n      }\n\n      const currentPlayers = await this.getPlayers();\n      let playersLayer = this.layers[\"Online players\"];\n      if (!playersLayer) {\n        this.layers[\"Online players\"] = new L.LayerGroup();\n        playersLayer = this.layers[\"Online players\"];\n      }\n\n      playersLayer.clearLayers();\n      for (const player of currentPlayers) {\n        // Create the player marker & area\n        const marker = L.marker([player.position.x, player.position.z], {\n          icon: playerIcon\n        }).bindPopup(\n          `${player.name} - ${player.steamid} <br> Position: ${player.position.x} ${player.position.y} ${player.position.z}`\n        );\n        playersLayer.addLayer(marker);\n      }\n      return playersLayer;\n    },\n    getQuestPoi(filterClaim) {\n      const link = `/api/getquestpois${\n        filterClaim ? \"?filter=bedlcbonly\" : \"\"\n      }`;\n      return fetch(link)\n        .then(function(response) {\n          return response.json();\n        })\n        .then(function(data) {\n          return data;\n        });\n    },\n    async drawQuestPoi() {\n      if (!this.hasPermission(\"cpmcc.getquestpois\")) {\n        return;\n      }\n\n      const pois = await this.getQuestPoi();\n\n      let poisLayer = this.layers[\"Quest POIs\"];\n      if (!poisLayer) {\n        this.layers[\"Quest POIs\"] = new L.LayerGroup();\n        poisLayer = this.layers[\"Quest POIs\"];\n      }\n\n      let claimedPoisLayer = this.layers[\"Claimed quest POIs\"];\n      if (!claimedPoisLayer) {\n        this.layers[\"Claimed quest POIs\"] = new L.LayerGroup();\n        claimedPoisLayer = this.layers[\"Claimed quest POIs\"];\n      }\n\n      for (const poi of pois.QuestPOIs) {\n        const poiRec = this.createClaimRectangle(\n          {\n            W: poi.minx,\n            E: poi.maxx,\n            S: poi.minz,\n            N: poi.maxz\n          },\n          undefined,\n          poi.containsbed ? \"red\" : \"blue\"\n        ).bindPopup(poi.name);\n\n        poisLayer.addLayer(poiRec);\n\n        if (poi.containsbed) {\n          claimedPoisLayer.addLayer(poiRec);\n        }\n      }\n    },\n    getHomes() {\n      return fetch(`/api/getplayerhomes`)\n        .then(function(response) {\n          return response.json();\n        })\n        .then(function(data) {\n          return data;\n        });\n    },\n    async drawHomes() {\n      if (!this.hasPermission(\"cpmcc.getplayerhomes\")) {\n        return;\n      }\n\n      const currentHomes = await this.getHomes();\n      let homesLayer = this.layers[\"Homes\"];\n      if (!homesLayer) {\n        this.layers[\"Homes\"] = new L.LayerGroup();\n        homesLayer = this.layers[\"Homes\"];\n      }\n\n      homesLayer.clearLayers();\n      for (const home of currentHomes.homeowners) {\n        const homeRec = this.createClaimRectangle(\n          {\n            W: home.x - currentHomes.homesize,\n            E: home.x + currentHomes.homesize,\n            S: home.z - currentHomes.homesize,\n            N: home.z + currentHomes.homesize\n          },\n          undefined,\n          home.active ? \"green\" : \"red\"\n        );\n\n        const marker = L.marker([home.x, home.z], {\n          icon: homeIcon\n        }).bindPopup(\n          `Home owner: ${home.steamid} <br> Position: ${home.x} ${home.y} ${home.z}`\n        );\n\n        homesLayer.addLayer(homeRec);\n        homesLayer.addLayer(marker);\n      }\n    },\n    areaSelect(e) {\n      // Make sure the map does not get the event, otherwise an invalid click is registered\n      L.DomEvent.stop(e);\n      this.clearSelection();\n      this.selectionMode = \"area\";\n    },\n    regionSelect(e) {\n      // Make sure the map does not get the event, otherwise an invalid click is registered\n      L.DomEvent.stop(e);\n      this.clearSelection();\n      this.selectionMode = \"region\";\n    },\n    clearSelection(e) {\n      // This function is not always called as a result of a button click\n      if (e) {\n        // Make sure the map does not get the event, otherwise an invalid click is registered\n        L.DomEvent.stop(e);\n      }\n      // Area\n      for (const marker of this.clickMarkers) {\n        marker.remove();\n      }\n\n      this.clickMarkers = [];\n      if (this.selectedArea) {\n        this.selectedArea.remove();\n      }\n\n      // Regions\n      for (const region of this.selectedRegionsRecs) {\n        region.remove();\n      }\n      this.selectedRegions = [];\n      eventBus.$emit(\"area-selected\", null);\n      eventBus.$emit(\"region-selected\", this.selectedRegions);\n    },\n    handleRegionClick() {},\n    handleAreaClick() {},\n    createMap() {\n      this.mapMessage = \"\";\n      this.initMap();\n      this.initLayers();\n\n      this.map.on(\"click\", event => {\n        if (this.selectionMode === \"area\") {\n          if (this.clickMarkers.length > 1) {\n            this.clickMarkers[0].remove();\n            this.clickMarkers = this.clickMarkers.slice(\n              1,\n              this.clickMarkers.length\n            );\n          }\n\n          this.clickMarkers.push(\n            L.circle(event.latlng, { radius: 1 }).addTo(this.map)\n          );\n\n          if (this.clickMarkers.length === 2) {\n            const latLngSelected = [\n              this.clickMarkers[0].getLatLng(),\n              this.clickMarkers[1].getLatLng()\n            ];\n            if (this.selectedArea) {\n              this.selectedArea.remove();\n            }\n            const selectedArea = L.rectangle(latLngSelected, {\n              weight: 1\n            }).addTo(this.map);\n\n            this.selectedArea = selectedArea;\n            eventBus.$emit(\"area-selected\", latLngSelected);\n          }\n        }\n\n        if (this.selectionMode === \"region\") {\n          const region = this.CoordToRegion(event.latlng);\n          const regionName = this.FormatRegionFileName(region);\n          const claimDetails = {\n            W: region.lat * this.mapInfo.regionsize,\n            E: region.lat * this.mapInfo.regionsize + this.mapInfo.regionsize,\n            N: region.lng * this.mapInfo.regionsize + this.mapInfo.regionsize,\n            S: region.lng * this.mapInfo.regionsize,\n            Name: regionName,\n            Type: \"To be confirmed reset region\"\n          };\n          const regionRec = this.createClaimRectangle(\n            claimDetails,\n            \"Selected region\",\n            \"grey\"\n          );\n          regionRec.addTo(this.map);\n\n          this.selectedRegionsRecs.push(regionRec);\n          this.selectedRegions.push(regionName);\n          eventBus.$emit(\"region-selected\", this.selectedRegions);\n        }\n      });\n    },\n    GetSdtdTileLayer(mapinfo) {\n      var tileLayer = L.tileLayer(`/map/{z}/{x}/{y}.png`, {\n        maxZoom: mapinfo.maxzoom + 1,\n        minZoom: Math.max(0, mapinfo.maxzoom - 5),\n        maxNativeZoom: mapinfo.maxzoom,\n        minNativeZoom: 0,\n        tileSize: mapinfo.tilesize\n      });\n\n      tileLayer.getTileUrl = function(coords) {\n        coords.y = -coords.y - 1;\n        return L.TileLayer.prototype.getTileUrl.bind(tileLayer)(coords);\n      };\n\n      return tileLayer;\n    },\n    initMap() {\n      const mapInfo = this.mapInfo;\n      // 7dtd coordinate transformations\n      const SDTD_Projection = {\n        project: function(latlng) {\n          return new L.Point(\n            latlng.lat / Math.pow(2, mapInfo.maxzoom),\n            latlng.lng / Math.pow(2, mapInfo.maxzoom)\n          );\n        },\n\n        unproject: function(point) {\n          return new L.LatLng(\n            point.x * Math.pow(2, mapInfo.maxzoom),\n            point.y * Math.pow(2, mapInfo.maxzoom)\n          );\n        }\n      };\n\n      const SDTD_CRS = L.extend({}, L.CRS.Simple, {\n        projection: SDTD_Projection,\n        transformation: new L.Transformation(1, 0, -1, 0),\n\n        scale: function(zoom) {\n          return Math.pow(2, zoom);\n        }\n      });\n\n      this.map = L.map(\"map\", {\n        attributionControl: false,\n        crs: SDTD_CRS,\n        zoomControl: false\n      }).setView([0, 0], Math.max(0, this.mapInfo.maxzoom - 1));\n\n      L.control\n        .zoom({\n          position: \"topright\"\n        })\n        .addTo(this.map);\n    },\n    getClaims(type) {\n      if (type === \"resetregion\") {\n        return fetch(`/api/getresetregions`)\n          .then(function(response) {\n            if (response) {\n              return response.json();\n            } else {\n              return [];\n            }\n          })\n          .then(function(data) {\n            return data;\n          });\n      }\n\n      return fetch(`/api/getadvclaims?type=${type}`)\n        .then(function(response) {\n          if (response) {\n            return response.json();\n          } else {\n            return [];\n          }\n        })\n        .then(function(data) {\n          return data;\n        });\n    },\n    async drawAllClaims() {\n      this.colorIterator = 0;\n      for (const claimType of this.claimTypes) {\n        await this.drawClaim(claimType);\n        this.colorIterator++;\n      }\n      this.colorIterator = 0;\n      await this.drawClaim(\"resetregion\");\n    },\n    async drawClaim(claimType) {\n      if (claimType === \"resetregion\") {\n        if (!this.hasPermission(\"cpmcc.getresetregions\")) {\n          return;\n        }\n      } else {\n        if (!this.hasPermission(\"cpmcc.getadvclaims\")) {\n          return;\n        }\n      }\n\n      const claims = await this.getClaims(claimType);\n      const rectangles = [];\n      for (const claim of claims) {\n        rectangles.push(this.createClaimRectangle(claim, claimType));\n      }\n      this.layers[claimType] = new L.LayerGroup(rectangles);\n      this.layers[claimType].addTo(this.map);\n    },\n    createClaimRectangle(claim, type, color) {\n      const rectangle = L.rectangle(\n        [\n          [claim.W, claim.S],\n          [claim.E, claim.N]\n        ],\n        {\n          color: color || this.activeColor,\n          weight: 1\n        }\n      );\n      if (type) {\n        let popup;\n        if (type === \"resetregion\") {\n          popup = L.popup().setContent(`Reset region`);\n        } else {\n          popup = L.popup().setContent(\n            `Name: ${claim.Name} Type: ${type} ${claim.Type}`\n          );\n        }\n        rectangle.bindPopup(popup);\n      }\n      return rectangle;\n    },\n    async initLayers() {\n      this.tileLayer = this.GetSdtdTileLayer(this.mapInfo);\n\n      this.tileLayer.addTo(this.map);\n      await this.drawAllClaims();\n      await this.drawLandClaims();\n      await this.drawPlayers();\n      await this.drawHomes();\n      await this.drawQuestPoi();\n      await this.drawTraders();\n      await this.drawPois();\n      this.layers[\"Regions\"] = this.getRegionLayer(this.mapInfo);\n      L.control.layers(null, this.layers).addTo(this.map);\n    },\n    FormatRegionFileName(latlng) {\n      return \"r.\" + latlng.lat + \".\" + latlng.lng + \".7rg\";\n    },\n    CoordToRegion(latlng) {\n      var x = Math.floor(\n        (latlng.lat + 16777216) / this.mapInfo.regionsize -\n          16777216 / this.mapInfo.regionsize\n      );\n      var y = Math.floor(\n        (latlng.lng + 16777216) / this.mapInfo.regionsize -\n          16777216 / this.mapInfo.regionsize\n      );\n      return L.latLng(x, y);\n    },\n    getRegionLayer(mapInfo) {\n      // Copyright Alloc\n      // https://7dtd.illy.bz\n\n      // Yeah it's stupid, I know.\n      // Keeps a reference to the Vue Instance\n      const self = this;\n\n      var regionLayer = L.gridLayer({\n        maxZoom: mapInfo.maxzoom + 1,\n        minZoom: 0,\n        maxNativeZoom: mapInfo.maxzoom + 1,\n        tileSize: mapInfo.tilesize\n      });\n\n      regionLayer.createTile = function(tilePoint) {\n        var blockWorldSize =\n          mapInfo.tilesize * Math.pow(2, mapInfo.maxzoom - tilePoint.z);\n        var tileLeft = tilePoint.x * blockWorldSize;\n        var tileBottom = (-1 - tilePoint.y) * blockWorldSize;\n        var blockPos = L.latLng(tileLeft, tileBottom);\n\n        var canvas = L.DomUtil.create(\"canvas\", \"leaflet-tile\");\n        canvas.width = mapInfo.tilesize;\n        canvas.height = mapInfo.tilesize;\n        var ctx = canvas.getContext(\"2d\");\n\n        ctx.fillStyle = \"white\";\n        ctx.lineWidth = 1;\n        ctx.font = \"14px Arial\";\n        ctx.strokeStyle = \"black\";\n\n        var lineCount = blockWorldSize / mapInfo.regionsize;\n        if (lineCount >= 1) {\n          var pos = 0;\n          while (pos < mapInfo.tilesize) {\n            // Vertical\n            ctx.beginPath();\n            ctx.moveTo(pos, 0);\n            ctx.lineTo(pos, mapInfo.tilesize);\n            ctx.stroke();\n\n            // Horizontal\n            ctx.beginPath();\n            ctx.moveTo(0, pos);\n            ctx.lineTo(mapInfo.tilesize, pos);\n            ctx.stroke();\n\n            pos += mapInfo.tilesize / lineCount;\n          }\n          let region = self.CoordToRegion(blockPos);\n          const regionName = self.FormatRegionFileName(region);\n          ctx.lineWidth = 4;\n          ctx.strokeText(regionName, 4, mapInfo.tilesize - 5);\n          ctx.fillText(regionName, 4, mapInfo.tilesize - 5);\n        } else {\n          if (tileLeft % mapInfo.regionsize == 0) {\n            // Vertical\n            ctx.beginPath();\n            ctx.moveTo(0, 0);\n            ctx.lineTo(0, mapInfo.tilesize);\n            ctx.stroke();\n          }\n          if (tileBottom % mapInfo.regionsize == 0) {\n            // Horizontal\n            ctx.beginPath();\n            ctx.moveTo(0, mapInfo.tilesize);\n            ctx.lineTo(mapInfo.tilesize, mapInfo.tilesize);\n            ctx.stroke();\n          }\n          if (\n            tileLeft % mapInfo.regionsize == 0 &&\n            tileBottom % mapInfo.regionsize == 0\n          ) {\n            let region = self.CoordToRegion(blockPos);\n            const regionName = self.FormatRegionFileName(region);\n            ctx.lineWidth = 4;\n            ctx.strokeText(regionName, 4, mapInfo.tilesize - 5);\n            ctx.fillText(regionName, 4, mapInfo.tilesize - 5);\n          }\n        }\n        return canvas;\n      };\n\n      return regionLayer;\n    }\n  }\n};\n</script>\n\n<style scoped>\n#map {\n  height: 100vh;\n  width: auto;\n}\n\n#selection-control {\n  pointer-events: auto;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SdtdMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SdtdMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SdtdMap.vue?vue&type=template&id=27593399&scoped=true&\"\nimport script from \"./SdtdMap.vue?vue&type=script&lang=js&\"\nexport * from \"./SdtdMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SdtdMap.vue?vue&type=style&index=0&id=27593399&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27593399\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-modal',{ref:\"claimsModal\",attrs:{\"id\":\"claims\",\"title\":\"Claims\",\"size\":\"xl\"}},[_c('b-button-group',[_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:('claim-creator'),expression:\"'claim-creator'\"}],attrs:{\"variant\":\"success\"}},[_vm._v(\"Create\")]),_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":_vm.onDelete}},[_vm._v(\"Delete claim(s)\")])],1),_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"items\":_vm.claims,\"borderless\":_vm.borderless,\"small\":_vm.small,\"selectable\":\"\",\"select-mode\":_vm.multi},on:{\"row-selected\":_vm.rowSelected}})],1),_c('claim-creator',{attrs:{\"selectedArea\":_vm.selectedArea,\"selectedRegions\":_vm.selectedRegions}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-modal id=\"claims\" title=\"Claims\" size=\"xl\" ref=\"claimsModal\">\n      <b-button-group>\n        <b-button variant=\"success\" v-b-modal=\"'claim-creator'\">Create</b-button>\n        <b-button variant=\"danger\" @click=\"onDelete\">Delete claim(s)</b-button>\n      </b-button-group>\n      <b-table\n        striped\n        hover\n        :items=\"claims\"\n        :borderless=\"borderless\"\n        :small=\"small\"\n        selectable\n        :select-mode=\"multi\"\n        @row-selected=\"rowSelected\"\n      ></b-table>\n    </b-modal>\n    <claim-creator :selectedArea=\"selectedArea\" :selectedRegions=\"selectedRegions\"></claim-creator>\n  </div>\n</template>\n\n<script>\nimport L from \"leaflet\";\nimport { eventBus } from \"../main\";\n\nexport default {\n  data() {\n    return {\n      mapInfo: {\n        regionsize: 512,\n        chunksize: 16,\n        tilesize: 128,\n        maxzoom: 4\n      },\n      selected: [],\n      claims: [],\n      commands: [],\n      selectedArea: null,\n      selectedRegions: [],\n      claimTypes: window.claimTypes,\n      connectionInfo: {\n        ip: \"\",\n        port: \"\",\n        adminUser: \"\",\n        adminToken: \"\"\n      }\n    };\n  },\n  computed: {\n    cpmPort: function() {\n      return parseInt(this.connectionInfo.port) + 1;\n    }\n  },\n  mounted() {\n    if (localStorage.connectionInfo) {\n      this.connectionInfo = JSON.parse(localStorage.connectionInfo);\n    }\n    this.drawClaims();\n\n    eventBus.$on(\"refresh-claims\", () => {\n      this.claims = [];\n      this.drawClaims();\n    });\n\n    eventBus.$on(\"area-selected\", latLngSelected => {\n      this.selectedArea = latLngSelected;\n    });\n\n    eventBus.$on(\"region-selected\", regions => {\n      this.selectedRegions = regions;\n    });\n\n    eventBus.$on(\"add-command\", command => {\n      this.commands.push(command);\n    });\n  },\n  methods: {\n    FormatRegionFileName(latlng) {\n      return \"r.\" + latlng.lat + \".\" + latlng.lng + \".7rg\";\n    },\n    CoordToRegion(latlng) {\n      var x = Math.floor(\n        (latlng.lat + 16777216) / this.mapInfo.regionsize -\n          16777216 / this.mapInfo.regionsize\n      );\n      var y = Math.floor(\n        (latlng.lng + 16777216) / this.mapInfo.regionsize -\n          16777216 / this.mapInfo.regionsize\n      );\n      return L.latLng(x, y);\n    },\n    async onDelete() {\n      for (const claim of this.selected) {\n        if (claim[\"Claim type\"] === \"Reset region\") {\n          eventBus.$emit(\"add-command\", `mrr remove ${claim.Name}`);\n        } else {\n          eventBus.$emit(\"add-command\", `ccc remove ${claim.Name}`);\n        }\n      }\n    },\n    rowSelected(items) {\n      this.selected = items;\n    },\n    async drawClaims() {\n      const resetRegions = await this.getClaims(\"resetregion\");\n\n      for (const claimType of this.claimTypes) {\n        const claims = await this.getClaims(claimType);\n        for (const claim of claims) {\n          claim[\"Claim type\"] = claimType;\n          claim.options = claim.Type;\n          delete claim.Type;\n          this.claims.push(claim);\n        }\n      }\n      for (const resetRegion of resetRegions) {\n        const region = this.CoordToRegion({\n          lat: (resetRegion.W + resetRegion.E) / 2,\n          lng: (resetRegion.N + resetRegion.S) / 2\n        });\n        resetRegion.Name = this.FormatRegionFileName(region);\n        resetRegion[\"Claim type\"] = \"Reset region\";\n        this.claims.push(resetRegion);\n      }\n    },\n    getClaims(type) {\n      if (type === \"resetregion\") {\n        return fetch(`/api/getresetregions`)\n          .then(function(response) {\n            if (response) {\n              return response.json();\n            } else {\n              return [];\n            }\n          })\n          .then(function(data) {\n            return data;\n          });\n      }\n\n      return fetch(`/api/getadvclaims?type=${type}`)\n        .then(function(response) {\n          if (response) {\n            return response.json();\n          } else {\n            return [];\n          }\n        })\n        .then(function(data) {\n          return data;\n        });\n    }\n  }\n};\n</script>\n\n\n<style scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClaimsModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClaimsModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ClaimsModal.vue?vue&type=template&id=8c389782&scoped=true&\"\nimport script from \"./ClaimsModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ClaimsModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8c389782\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{ref:\"claimCreator\",attrs:{\"id\":\"claim-creator\",\"title\":\"Create a claim\",\"size\":\"lg\"},on:{\"ok\":_vm.createClaim}},[(_vm.selectedArea === null && _vm.selectedRegions.length < 1)?_c('div',[_c('b-alert',{attrs:{\"variant\":\"warning\",\"show\":\"\"}},[_vm._v(\"You must select an area on the map first!\")])],1):_vm._e(),(_vm.selectedArea !== null && this.area < 1)?_c('div',[_c('b-alert',{attrs:{\"variant\":\"warning\",\"show\":\"\"}},[_vm._v(\"You must select an area that is atleast 3x3 blocks big!\")])],1):_vm._e(),(_vm.selectedArea !== null && this.area > 1 )?_c('div',[_c('div',[_c('div',[_vm._v(\" You are creating a claim that is \"),_c('strong',[_vm._v(_vm._s(this.area))]),_vm._v(\" blocks big. \")]),_c('div',[_vm._v(\" The current command is: \"),_c('div',[_c('em',[_vm._v(_vm._s(_vm.command))])])]),_c('hr'),_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Name\")]),_c('b-form-input',{attrs:{\"id\":\"name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('label',{attrs:{\"for\":\"claim-accessLevel\"}},[_vm._v(\"Accesslevel\")]),_c('b-form-input',{attrs:{\"type\":\"number\",\"placeholder\":\"0\"},model:{value:(_vm.accessLevel),callback:function ($$v) {_vm.accessLevel=$$v},expression:\"accessLevel\"}}),_c('label',{attrs:{\"for\":\"type-select\"}},[_vm._v(\"The type of claim. This will control its behaviour\")]),_c('b-form-select',{attrs:{\"id\":\"type-select\",\"options\":_vm.claimTypes},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}}),(_vm.type === 'leveled')?_c('div',[_c('p',[_vm._v(\"This is a normal claim, but with the option to level the upper and lower boundary of a claim. A normal claim reaches from bedrock to heaven. This claim has height and depth. Designed for protecting underground bases (with a normal claim, players walking on ground above the base would get tp'd out without knowing what they intruded) or for bases that have public tunnels under them (with a normal claim, players wouldnt be able to use the tunnel under the protected base).\")]),_c('label',{attrs:{\"for\":\"ycoordHigh\"}},[_vm._v(\"Y coordinate top\")]),_c('b-form-input',{attrs:{\"id\":\"ycoordHigh\",\"placeholder\":\"120\",\"type\":_vm.number},model:{value:(_vm.options.yCoordHigh),callback:function ($$v) {_vm.$set(_vm.options, \"yCoordHigh\", $$v)},expression:\"options.yCoordHigh\"}}),_c('label',{attrs:{\"for\":\"ycoordLow\"}},[_vm._v(\"Y coordinate bottom\")]),_c('b-form-input',{attrs:{\"id\":\"ycoordLow\",\"placeholder\":\"40\",\"type\":_vm.number},model:{value:(_vm.options.yCoordLow),callback:function ($$v) {_vm.$set(_vm.options, \"yCoordLow\", $$v)},expression:\"options.yCoordLow\"}})],1):_vm._e(),(_vm.type === 'notify')?_c('div',[_c('p',[_vm._v(\"This claim defines a zone in which players get a configurable message in chat when they enter or exit the claim.\")]),_c('label',{attrs:{\"for\":\"enteringText\"}},[_vm._v(\"Entering text\")]),_c('b-form-input',{attrs:{\"id\":\"enteringText\",\"placeholder\":\"You are entering a claim\",\"type\":_vm.text,\"required\":\"\"},model:{value:(_vm.options.enteringText),callback:function ($$v) {_vm.$set(_vm.options, \"enteringText\", $$v)},expression:\"options.enteringText\"}}),_c('label',{attrs:{\"for\":\"exitingText\"}},[_vm._v(\"Exiting text\")]),_c('b-form-input',{attrs:{\"id\":\"exitingText\",\"placeholder\":\"You are exiting a claim\",\"type\":_vm.text,\"required\":\"\"},model:{value:(_vm.options.exitingText),callback:function ($$v) {_vm.$set(_vm.options, \"exitingText\", $$v)},expression:\"options.exitingText\"}})],1):_vm._e(),(_vm.type === 'openhours')?_c('div',[_c('p',[_vm._v(\"This is a normal claim, but with assigned opening hours. Tired of your lobby or central tradingstation getting abused/wrecked by players for surviving (horde) night? Just set it to opening hours 0400 to 2200 and players will get tp'd out if they enter the area outside that hours.\")]),_c('label',{attrs:{\"for\":\"openingHour\"}},[_vm._v(\"Opening hour\")]),_c('b-form-input',{attrs:{\"id\":\"openingHour\",\"type\":_vm.number},model:{value:(_vm.options.openingHour),callback:function ($$v) {_vm.$set(_vm.options, \"openingHour\", $$v)},expression:\"options.openingHour\"}}),_c('label',{attrs:{\"for\":\"closingHour\"}},[_vm._v(\"Closing hour\")]),_c('b-form-input',{attrs:{\"id\":\"closingHour\",\"type\":_vm.number},model:{value:(_vm.options.closingHour),callback:function ($$v) {_vm.$set(_vm.options, \"closingHour\", $$v)},expression:\"options.closingHour\"}})],1):_vm._e(),(_vm.type === 'portal')?_c('div',[_c('p',[_vm._v(\"Define an area and a triggerheight and an allowed player will get tp'd to a preset location.\")]),_c('label',{attrs:{\"for\":\"stepheight\"}},[_vm._v(\"Stepheight\")]),_c('b-form-input',{attrs:{\"id\":\"stepheight\",\"type\":_vm.number},model:{value:(_vm.options.stepheight),callback:function ($$v) {_vm.$set(_vm.options, \"stepheight\", $$v)},expression:\"options.stepheight\"}}),_c('h3',[_vm._v(\"Teleport destination\")]),_c('label',{attrs:{\"for\":\"portalX\"}},[_vm._v(\"X coordinate\")]),_c('b-form-input',{attrs:{\"id\":\"portalX\",\"type\":_vm.number},model:{value:(_vm.options.portalX),callback:function ($$v) {_vm.$set(_vm.options, \"portalX\", $$v)},expression:\"options.portalX\"}}),_c('label',{attrs:{\"for\":\"portalY\"}},[_vm._v(\"Y coordinate\")]),_c('b-form-input',{attrs:{\"id\":\"portalY\",\"type\":_vm.number},model:{value:(_vm.options.portalY),callback:function ($$v) {_vm.$set(_vm.options, \"portalY\", $$v)},expression:\"options.portalY\"}}),_c('label',{attrs:{\"for\":\"portalZ\"}},[_vm._v(\"Z coordinate\")]),_c('b-form-input',{attrs:{\"id\":\"portalZ\",\"type\":_vm.number},model:{value:(_vm.options.portalZ),callback:function ($$v) {_vm.$set(_vm.options, \"portalZ\", $$v)},expression:\"options.portalZ\"}})],1):_vm._e(),(_vm.type === 'reversed')?_c('div',[_c('p',[_vm._v(\"Create an area for locking players in (aka jail). When whitelisted for a reversed claim, a player cannot leave the area and will get tp'd back in if he/she tries.\")])]):_vm._e(),(_vm.type === 'hostilefree')?_c('div',[_c('p',[_vm._v(\"This is used for creating hostilefree area's. All hostiles will despawn in this type of advanced claim..\")])]):_vm._e(),(_vm.type === 'timed')?_c('div',[_c('p',[_vm._v(\"Create an area for protecting bases/structures. Players not on whitelist of the claim will get tp'd out. This claim type has a time to live (hours). After the time has passed this claim will vanish.\")]),_c('label',{attrs:{\"for\":\"timeToLive\"}},[_vm._v(\"Hours before claims vanishes\")]),_c('b-form-input',{attrs:{\"id\":\"timeToLive\",\"type\":_vm.number},model:{value:(_vm.options.timeToLive),callback:function ($$v) {_vm.$set(_vm.options, \"timeToLive\", $$v)},expression:\"options.timeToLive\"}})],1):_vm._e(),(_vm.type === 'command')?_c('div',[_c('p',[_vm._v(\"Trigger one or multiple console commands when a player enter this claim area. The claim type must be enclosed in double quotes and parameters with spaces within each command must be enclosed in single quotes. Use semicolon ( ; ) to seperate commands.\")]),_c('label',{attrs:{\"for\":\"command\"}},[_vm._v(\"Command to execute\")]),_c('b-form-input',{attrs:{\"id\":\"command\"},model:{value:(_vm.options.command),callback:function ($$v) {_vm.$set(_vm.options, \"command\", $$v)},expression:\"options.command\"}})],1):_vm._e(),(_vm.type === 'playerlevel')?_c('div',[_c('p',[_vm._v(\"This claim can be used to restrict/grant access to a claim by player level. Built in basic logical expression, plus support for level ranges.\")]),_c('label',{attrs:{\"for\":\"playerLevelCheck\"}},[_vm._v(\"Operator check\")]),_c('b-form-input',{attrs:{\"id\":\"playerLevelCheck\"},model:{value:(_vm.options.playerLevelCheck),callback:function ($$v) {_vm.$set(_vm.options, \"playerLevelCheck\", $$v)},expression:\"options.playerLevelCheck\"}})],1):_vm._e(),(_vm.type === 'lcbfree')?_c('div',[_c('p',[_vm._v(\"Control abillity to place LCB's within the boundaries of the lcbfree adv. claim. Allow to place LCB's by accesslevel and/or whitelist. If not allowed to place LCB, it will be removed and put back in player inventory. .\")])]):_vm._e()],1)]):_vm._e(),(_vm.selectedRegions.length > 0)?_c('div',[_c('div',[_vm._v(\"You have selected \"+_vm._s(_vm.selectedRegions.length)+\" regions.\")]),_c('ul',{attrs:{\"id\":\"reset-regions\"}},_vm._l((_vm.selectedRegions),function(region,index){return _c('li',{key:(\"region-\" + index)},[_vm._v(_vm._s(region))])}),0)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-modal id=\"claim-creator\" title=\"Create a claim\" size=\"lg\" ref=\"claimCreator\" @ok=\"createClaim\">\n    <div v-if=\"selectedArea === null && selectedRegions.length < 1\">\n      <b-alert variant=\"warning\" show>You must select an area on the map first!</b-alert>\n    </div>\n\n    <div v-if=\"selectedArea !== null && this.area < 1\">\n      <b-alert variant=\"warning\" show>You must select an area that is atleast 3x3 blocks big!</b-alert>\n    </div>\n\n    <div v-if=\"selectedArea !== null && this.area > 1 \">\n      <div>\n        <div>\n          You are creating a claim that is\n          <strong>{{this.area}}</strong> blocks big.\n        </div>\n\n        <div>\n          The current command is:\n          <div>\n            <em>{{command}}</em>\n          </div>\n        </div>\n\n        <hr />\n\n        <label for=\"name\">Name</label>\n        <b-form-input id=\"name\" v-model=\"name\"></b-form-input>\n\n        <label for=\"claim-accessLevel\">Accesslevel</label>\n\n        <b-form-input type=\"number\" v-model=\"accessLevel\" placeholder=\"0\"></b-form-input>\n\n        <label for=\"type-select\">The type of claim. This will control its behaviour</label>\n        <b-form-select id=\"type-select\" v-model=\"type\" :options=\"claimTypes\"></b-form-select>\n\n        <div v-if=\"type === 'leveled'\">\n          <p>This is a normal claim, but with the option to level the upper and lower boundary of a claim. A normal claim reaches from bedrock to heaven. This claim has height and depth. Designed for protecting underground bases (with a normal claim, players walking on ground above the base would get tp'd out without knowing what they intruded) or for bases that have public tunnels under them (with a normal claim, players wouldnt be able to use the tunnel under the protected base).</p>\n          <label for=\"ycoordHigh\">Y coordinate top</label>\n          <b-form-input\n            id=\"ycoordHigh\"\n            v-model=\"options.yCoordHigh\"\n            placeholder=\"120\"\n            :type=\"number\"\n          ></b-form-input>\n          <label for=\"ycoordLow\">Y coordinate bottom</label>\n          <b-form-input id=\"ycoordLow\" v-model=\"options.yCoordLow\" placeholder=\"40\" :type=\"number\"></b-form-input>\n        </div>\n\n        <div v-if=\"type === 'notify'\">\n          <p>This claim defines a zone in which players get a configurable message in chat when they enter or exit the claim.</p>\n          <label for=\"enteringText\">Entering text</label>\n          <b-form-input\n            id=\"enteringText\"\n            v-model=\"options.enteringText\"\n            placeholder=\"You are entering a claim\"\n            :type=\"text\"\n            required\n          ></b-form-input>\n          <label for=\"exitingText\">Exiting text</label>\n          <b-form-input\n            id=\"exitingText\"\n            v-model=\"options.exitingText\"\n            placeholder=\"You are exiting a claim\"\n            :type=\"text\"\n            required\n          ></b-form-input>\n        </div>\n\n        <div v-if=\"type === 'openhours'\">\n          <p>This is a normal claim, but with assigned opening hours. Tired of your lobby or central tradingstation getting abused/wrecked by players for surviving (horde) night? Just set it to opening hours 0400 to 2200 and players will get tp'd out if they enter the area outside that hours.</p>\n          <label for=\"openingHour\">Opening hour</label>\n          <b-form-input id=\"openingHour\" v-model=\"options.openingHour\" :type=\"number\"></b-form-input>\n          <label for=\"closingHour\">Closing hour</label>\n          <b-form-input id=\"closingHour\" v-model=\"options.closingHour\" :type=\"number\"></b-form-input>\n        </div>\n\n        <div v-if=\"type === 'portal'\">\n          <p>Define an area and a triggerheight and an allowed player will get tp'd to a preset location.</p>\n          <label for=\"stepheight\">Stepheight</label>\n          <b-form-input id=\"stepheight\" v-model=\"options.stepheight\" :type=\"number\"></b-form-input>\n          <h3>Teleport destination</h3>\n          <label for=\"portalX\">X coordinate</label>\n          <b-form-input id=\"portalX\" v-model=\"options.portalX\" :type=\"number\"></b-form-input>\n          <label for=\"portalY\">Y coordinate</label>\n          <b-form-input id=\"portalY\" v-model=\"options.portalY\" :type=\"number\"></b-form-input>\n          <label for=\"portalZ\">Z coordinate</label>\n          <b-form-input id=\"portalZ\" v-model=\"options.portalZ\" :type=\"number\"></b-form-input>\n        </div>\n\n        <div v-if=\"type === 'reversed'\">\n          <p>Create an area for locking players in (aka jail). When whitelisted for a reversed claim, a player cannot leave the area and will get tp'd back in if he/she tries.</p>\n        </div>\n\n        <div v-if=\"type === 'hostilefree'\">\n          <p>This is used for creating hostilefree area's. All hostiles will despawn in this type of advanced claim..</p>\n        </div>\n\n        <div v-if=\"type === 'timed'\">\n          <p>Create an area for protecting bases/structures. Players not on whitelist of the claim will get tp'd out. This claim type has a time to live (hours). After the time has passed this claim will vanish.</p>\n          <label for=\"timeToLive\">Hours before claims vanishes</label>\n          <b-form-input id=\"timeToLive\" v-model=\"options.timeToLive\" :type=\"number\"></b-form-input>\n        </div>\n\n        <div v-if=\"type === 'command'\">\n          <p>Trigger one or multiple console commands when a player enter this claim area. The claim type must be enclosed in double quotes and parameters with spaces within each command must be enclosed in single quotes. Use semicolon ( ; ) to seperate commands.</p>\n          <label for=\"command\">Command to execute</label>\n          <b-form-input id=\"command\" v-model=\"options.command\"></b-form-input>\n        </div>\n\n        <div v-if=\"type === 'playerlevel'\">\n          <p>This claim can be used to restrict/grant access to a claim by player level. Built in basic logical expression, plus support for level ranges.</p>\n          <label for=\"playerLevelCheck\">Operator check</label>\n          <b-form-input id=\"playerLevelCheck\" v-model=\"options.playerLevelCheck\"></b-form-input>\n        </div>\n\n        <div v-if=\"type === 'lcbfree'\">\n          <p>Control abillity to place LCB's within the boundaries of the lcbfree adv. claim. Allow to place LCB's by accesslevel and/or whitelist. If not allowed to place LCB, it will be removed and put back in player inventory. .</p>\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"selectedRegions.length > 0\">\n      <div>You have selected {{selectedRegions.length}} regions.</div>\n\n      <ul id=\"reset-regions\">\n        <li v-for=\"(region, index) in selectedRegions\" v-bind:key=\"`region-${index}`\">{{ region }}</li>\n      </ul>\n    </div>\n  </b-modal>\n</template>\n\n<script>\nimport { eventBus } from \"../main\";\n\nexport default {\n  data() {\n    return {\n      claimTypes: window.claimTypes,\n      name: \"My_cool_new_claim\",\n      type: null,\n      options: {\n        // Leveled claim\n        yCoordHigh: 120,\n        yCoordLow: 40,\n        // Notify claim\n        enteringText: \"You are entering a claim\",\n        exitingText: \"You are exiting a claim\",\n        // Openhours\n        openingHour: \"9\",\n        closingHour: \"17\",\n        // Portal\n        stepheight: 64,\n        portalX: 50,\n        portalY: 0,\n        portalZ: -80,\n        // Timed\n        timeToLive: 12,\n        // Command\n        command: \"say 'Welcome ${playerName} to the claim!'\",\n        // Playerlevel\n        playerLevelCheck: \"<=20\"\n      },\n      accessLevel: 0\n    };\n  },\n  props: [\"selectedArea\", \"selectedRegions\"],\n  computed: {\n    area() {\n      const width = Math.abs(\n        this.selectedArea[0].lat - this.selectedArea[1].lat\n      );\n      const length = Math.abs(\n        this.selectedArea[0].lng - this.selectedArea[1].lng\n      );\n\n      return Math.round(2 * (width + length));\n    },\n    command() {\n      let commandString = `ccc add ${this.name\n        .split(\" \")\n        .join(\n          \"_\"\n        )} ${this.getW()} ${this.getE()} ${this.getN()} ${this.getS()} ${\n        this.accessLevel\n      } `;\n\n      switch (this.type) {\n        case \"normal\":\n          // Do nothing\n          break;\n        case \"hostilefree\":\n          commandString += `${this.type}`;\n          break;\n        case \"leveled\":\n          commandString += `\"${this.type}:${this.options.yCoordHigh},${this.options.yCoordLow}\"`;\n          break;\n        case \"notify\":\n          commandString += `\"${this.type}:${this.options.enteringText}:${this.options.exitingText}\"`;\n          break;\n        case \"openhours\":\n          commandString += `\"${this.type}:${this.options.openingHour}-${this.options.closingHour}\"`;\n          break;\n        case \"portal\":\n          commandString += `\"${this.type}:${Math.round(\n            this.options.stepheight\n          )}:${Math.round(this.options.portalX)},${Math.round(\n            this.options.portalY\n          )},${Math.round(this.options.portalZ)}\"`;\n          break;\n        case \"reversed\":\n          commandString += `${this.type}`;\n          break;\n        case \"timed\":\n          commandString += `${this.type}:${this.options.timeToLive}`;\n          break;\n        case \"command\":\n          commandString += `\"${this.type}:${this.options.command}\"`;\n          break;\n        case \"lcbfree\":\n          commandString += `${this.type}`;\n          break;\n        case \"playerlevel\":\n          commandString += `\"${this.type}:${this.options.playerLevelCheck}\"`;\n          break;\n        default:\n          break;\n      }\n\n      return commandString;\n    }\n  },\n  methods: {\n    createClaim() {\n      if (this.selectedArea) {\n        eventBus.$emit(\"add-command\", this.command);\n      }\n\n      if (this.selectedRegions.length) {\n        for (const region of this.selectedRegions) {\n          eventBus.$emit(\"add-command\", `mrr add ${region}`);\n        }\n      }\n    },\n    getW() {\n      return Math.round(\n        Math.min(this.selectedArea[0].lat, this.selectedArea[1].lat)\n      );\n    },\n    getE() {\n      return Math.round(\n        Math.max(this.selectedArea[0].lat, this.selectedArea[1].lat)\n      );\n    },\n    getN() {\n      return Math.round(\n        Math.max(this.selectedArea[0].lng, this.selectedArea[1].lng)\n      );\n    },\n    getS() {\n      return Math.round(\n        Math.min(this.selectedArea[0].lng, this.selectedArea[1].lng)\n      );\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClaimCreator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClaimCreator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ClaimCreator.vue?vue&type=template&id=d297e4f8&\"\nimport script from \"./ClaimCreator.vue?vue&type=script&lang=js&\"\nexport * from \"./ClaimCreator.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-modal',{attrs:{\"id\":\"commands\",\"title\":\"Commands\",\"size\":\"lg\"}},[(_vm.executing)?_c('div',[_c('b-progress',{attrs:{\"value\":_vm.executed,\"max\":_vm.commands.length,\"show-progress\":\"\",\"animated\":\"\"}})],1):_vm._e(),(_vm.commands.length > 0)?_c('div',[_c('b-button',{staticClass:\"mx-auto\",attrs:{\"variant\":\"success\",\"size\":\"lg\"},on:{\"click\":_vm.execute}},[_vm._v(\"Execute \"+_vm._s(_vm.commands.length)+\" command\"+_vm._s(_vm.commands.length > 1 ? 's' : ''))]),_c('ul',_vm._l((_vm.commands),function(command,index){return _c('li',{key:(\"command-\" + index)},[_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteCommand(index)}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"trash-alt\",\"size\":\"xs\"}}),_vm._v(\"Delete \")],1),_vm._v(\" \"+_vm._s(command)+\" \")],1)}),0),_c('hr')],1):_c('div',[_c('p',[_vm._v(\"There are no commands in the queue yet. Create or delete some claims first!\")])]),_c('hr'),_c('h3',[_vm._v(\"History\")]),_c('div',[_c('ul',_vm._l((_vm.history),function(historyObj,index){return _c('span',{key:(\"history-\" + index),class:{'text-danger': !historyObj.success, 'text-success': historyObj.success}},[_c('li',{attrs:{\"id\":_vm.generateId(historyObj)}},[_vm._v(_vm._s(_vm.formatDate(historyObj.date))+\" - \"+_vm._s(historyObj.command))]),_c('b-tooltip',{attrs:{\"target\":_vm.generateId(historyObj),\"placement\":\"left\"}},[_vm._v(_vm._s(historyObj.statusText))])],1)}),0)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-modal id=\"commands\" title=\"Commands\" size=\"lg\">\n      <div v-if=\"executing\">\n        <b-progress :value=\"executed\" :max=\"commands.length\" show-progress animated></b-progress>\n      </div>\n      <div v-if=\"commands.length > 0\">\n        <b-button\n          variant=\"success\"\n          size=\"lg\"\n          @click=\"execute\"\n          class=\"mx-auto\"\n        >Execute {{commands.length}} command{{commands.length > 1 ? 's' : ''}}</b-button>\n        <ul>\n          <li v-for=\"(command, index) in commands\" v-bind:key=\"`command-${index}`\">\n            <b-button variant=\"danger\" @click=\"deleteCommand(index)\">\n              <font-awesome-icon icon=\"trash-alt\" size=\"xs\" />Delete\n            </b-button>\n            {{ command }}\n          </li>\n        </ul>\n        <hr />\n      </div>\n      <div v-else>\n        <p>There are no commands in the queue yet. Create or delete some claims first!</p>\n      </div>\n\n      <hr />\n      <h3>History</h3>\n      <div>\n        <ul>\n          <span\n            v-for=\"(historyObj, index) in history\"\n            v-bind:key=\"`history-${index}`\"\n            :class=\"{'text-danger': !historyObj.success, 'text-success': historyObj.success}\"\n          >\n            <li\n              :id=\"generateId(historyObj)\"\n            >{{ formatDate(historyObj.date)}} - {{historyObj.command}}</li>\n            <b-tooltip :target=\"generateId(historyObj)\" placement=\"left\">{{historyObj.statusText}}</b-tooltip>\n          </span>\n        </ul>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n\n<script>\n// TODO: Add undo buttons for history entries\nimport { eventBus } from \"../main\";\n\nexport default {\n  data() {\n    return {\n      commands: [],\n      connectionInfo: {\n        ip: \"\",\n        port: \"\",\n        adminUser: \"\",\n        adminToken: \"\"\n      },\n      history: [],\n      executing: false,\n      executed: 0\n    };\n  },\n\n  methods: {\n    generateId(historyObj) {\n      return `${historyObj.date}-${historyObj.command.replace(\"\", \"-\")}`;\n    },\n    formatDate(dateInMs) {\n      let date = new Date(dateInMs);\n      return date.toLocaleString();\n    },\n    getHistory() {\n      let history = localStorage.commandHistory;\n\n      if (!history) {\n        history = [];\n      } else {\n        history = JSON.parse(history);\n      }\n\n      this.history = history;\n      return history;\n    },\n    setHistory(newHistory) {\n      this.history = newHistory;\n      localStorage.setItem(\"commandHistory\", JSON.stringify(this.history));\n    },\n    addToHistory(historyObj) {\n      let current = this.getHistory();\n      current.unshift(historyObj);\n      this.setHistory(current);\n    },\n    deleteCommand(index) {\n      this.commands.splice(index, 1);\n      eventBus.$emit(\"set-commands\", this.commands.length);\n    },\n    async execute() {\n      this.executing = true;\n      for (const command of this.commands) {\n        const result = await fetch(`/api/createadvclaims?command=${command}`);\n        const historyObj = {\n          success: result.ok,\n          command: command,\n          statusText: result.statusText,\n          date: Date.now()\n        };\n        this.commands = this.commands.filter(c => c !== command);\n        this.addToHistory(historyObj);\n        this.executed++;\n      }\n      eventBus.$emit(\"set-commands\", this.commands.length);\n      eventBus.$emit(\"refresh-claims\");\n      this.executing = false;\n      this.executed = 0;\n    }\n  },\n\n  mounted() {\n    if (localStorage.connectionInfo) {\n      this.connectionInfo = JSON.parse(localStorage.connectionInfo);\n    }\n\n    this.getHistory();\n\n    eventBus.$on(\"connection-info\", connectionInfo => {\n      this.connectionInfo = connectionInfo;\n    });\n\n    eventBus.$on(\"add-command\", command => {\n      this.commands.push(command);\n      // Remove duplicates\n      this.commands = [...new Set(this.commands)];\n      this.$bvToast.toast(command, {\n        title: \"A command was added to the queue\"\n      });\n      eventBus.$emit(\"set-commands\", this.commands.length);\n    });\n  }\n};\n</script>\n\n<style scoped>\nul {\n  padding: 0;\n  margin: 0;\n  list-style: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommandsModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommandsModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommandsModal.vue?vue&type=template&id=f2ded366&scoped=true&\"\nimport script from \"./CommandsModal.vue?vue&type=script&lang=js&\"\nexport * from \"./CommandsModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommandsModal.vue?vue&type=style&index=0&id=f2ded366&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f2ded366\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"session\"},[(!_vm.userStatus.loggedin)?_c('a',{attrs:{\"href\":\"/session/login\"}},[_c('img',{attrs:{\"src\":\"img/steamlogin.png\"}})]):_c('div',[_vm._v(\" \"+_vm._s(this.userStatus.username)+\" - Permission level: \"+_vm._s(this.userStatus.permissionlevel)+\" \"),_c('br'),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{attrs:{\"href\":\"/session/logout\"}},[_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"button\"}},[_vm._v(\"Logout\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"session\">\n    <a v-if=\"!userStatus.loggedin\" href=\"/session/login\">\n      <img src=\"img/steamlogin.png\" />\n    </a>\n    <div v-else>\n      {{this.userStatus.username}} - Permission level: {{this.userStatus.permissionlevel}}\n      <br />\n      <a href=\"/session/logout\">\n        <button class=\"btn btn-danger\" type=\"button\">Logout</button>\n      </a>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"SessionHandler\",\n  data() {\n    return {\n      userStatus: {\n        loggedin: false,\n        username: null,\n        permissionlevel: 2000,\n        permissions: []\n      }\n    };\n  },\n  async mounted() {\n    this.userStatus = await this.getUserStatus();\n  },\n  methods: {\n    getUserStatus() {\n      return fetch(\"/userstatus\")\n        .then(response => {\n          return response.json();\n        })\n        .then(data => {\n          return data;\n        });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.session {\n  color: white;\n  bottom: 10%;\n  text-align: center;\n  position: absolute;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionHandler.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionHandler.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SessionHandler.vue?vue&type=template&id=3fcba173&scoped=true&\"\nimport script from \"./SessionHandler.vue?vue&type=script&lang=js&\"\nexport * from \"./SessionHandler.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SessionHandler.vue?vue&type=style&index=0&id=3fcba173&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3fcba173\",\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport VueSidebarMenu from \"vue-sidebar-menu\";\nimport \"vue-sidebar-menu/dist/vue-sidebar-menu.css\";\n\nimport App from \"./App.vue\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faExternalLinkAlt,\n  faTrashAlt,\n  faArrowsAltH,\n  faUser,\n  faCog,\n  faBorderStyle,\n  faTerminal,\n  faQuestionCircle,\n  faAngleRight\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport \"bootstrap\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\nimport BootstrapVue from \"bootstrap-vue\";\n\n// Custom components\nimport SideBar from \"./components/SideBar.vue\";\nimport SdtdMap from \"./components/SdtdMap.vue\";\nimport ClaimsModal from \"./components/ClaimsModal.vue\";\nimport ClaimCreator from \"./components/ClaimCreator.vue\";\nimport CommandsModal from \"./components/CommandsModal.vue\";\nimport SessionHandler from \"./components/SessionHandler.vue\";\n\nrequire(\"../node_modules/leaflet/dist/leaflet.css\");\n\nwindow.claimTypes = [\n  \"hostilefree\",\n  \"notify\",\n  \"command\",\n  \"leveled\",\n  \"reversed\",\n  \"normal\",\n  \"timed\",\n  \"portal\",\n  \"openhours\",\n  \"playerlevel\",\n  \"lcbfree\"\n];\n\nwindow.allocsMap = {\n  host: location.hostname,\n  port: parseInt(location.port) - 1,\n  protocol: location.protocol\n};\n\n// Font awesome icons\nlibrary.add(faExternalLinkAlt);\nlibrary.add(faTrashAlt);\nlibrary.add(faArrowsAltH);\nlibrary.add(faUser);\nlibrary.add(faCog);\nlibrary.add(faBorderStyle);\nlibrary.add(faTerminal);\nlibrary.add(faQuestionCircle);\nlibrary.add(faAngleRight);\n\nVue.component(\"font-awesome-icon\", FontAwesomeIcon);\nVue.component(\"sidebar\", SideBar);\nVue.component(\"sdtd-map\", SdtdMap);\nVue.component(\"claims\", ClaimsModal);\nVue.component(\"claim-creator\", ClaimCreator);\nVue.component(\"commands-modal\", CommandsModal);\nVue.component(\"session-handler\", SessionHandler);\n\nVue.use(BootstrapVue);\nVue.use(VueSidebarMenu);\n\nVue.config.productionTip = false;\n\nexport const eventBus = new Vue();\n\nnew Vue({\n  render: h => h(App)\n}).$mount(\"#app\");\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionHandler.vue?vue&type=style&index=0&id=3fcba173&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionHandler.vue?vue&type=style&index=0&id=3fcba173&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommandsModal.vue?vue&type=style&index=0&id=f2ded366&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommandsModal.vue?vue&type=style&index=0&id=f2ded366&scoped=true&lang=css&\""],"sourceRoot":""}